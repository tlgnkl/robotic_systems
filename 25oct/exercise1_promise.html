<!DOCTYPE html>
<html>
<head>
    <title>Promise Practice</title>
    <style>
        .container { max-width: 800px; margin: 0 auto; padding: 20px; }
        .button { padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; cursor: pointer; }
        .success { background-color: #4CAF50; color: white; }
        .error { background-color: #f44336; color: white; }
        .info { background-color: #2196F3; color: white; }
        .log { margin-top: 20px; padding: 15px; background: #f5f5f5; border-radius: 5px; }
        .log-entry { margin: 5px 0; padding: 5px; border-left: 3px solid #ccc; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîÆ –ü—Ä–∞–∫—Ç–∏–∫–∞ —Å Promise</h1>
        
        <button class="button success" id="successBtn">–£—Å–ø–µ—à–Ω—ã–π Promise</button>
        <button class="button error" id="errorBtn">Promise —Å –æ—à–∏–±–∫–æ–π</button>
        <button class="button info" id="sequenceBtn">–¶–µ–ø–æ—á–∫–∞ Promise</button>
        
        <div class="log" id="log"></div>
    </div>

    <script>
        const log = document.getElementById('log');
        
        function addLog(message, type = 'info') {
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.style.borderLeftColor = type === 'error' ? '#f44336' : 
                                        type === 'success' ? '#4CAF50' : '#2196F3';
            entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
        }

        function createSuccessPromise() {
            addLog('üîπ –°–æ–∑–¥–∞–µ–º —É—Å–ø–µ—à–Ω—ã–π Promise...');
            
            return new Promise((resolve) => {
                addLog('Promise –Ω–∞—á–∞–ª –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ...');
                
                setTimeout(() => {
                    const result = '–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã! ‚úÖ';
                    addLog('Promise –∑–∞–≤–µ—Ä—à–∏–ª —Ä–∞–±–æ—Ç—É');
                    resolve(result);
                }, 2000);
            });
        }

        function createErrorPromise() {
            addLog('üîπ –°–æ–∑–¥–∞–µ–º Promise —Å –æ—à–∏–±–∫–æ–π...');
            
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    const error = new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏! ‚ùå');
                    addLog('Promise –∑–∞–≤–µ—Ä—à–∏–ª—Å—è —Å –æ—à–∏–±–∫–æ–π');
                    reject(error);
                }, 2000);
            });
        }

        document.getElementById('successBtn').addEventListener('click', function() {
            addLog('--- –ó–ê–ü–£–°–ö –£–°–ü–ï–®–ù–û–ì–û PROMISE ---');
            
            createSuccessPromise()
                .then(result => {
                    addLog(`‚úÖ then: ${result}`, 'success');
                })
                .catch(error => {
                    addLog(`‚ùå catch: ${error.message}`, 'error');
                })
                .finally(() => {
                    addLog('üèÅ finally: –û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (—É—Å–ø–µ—Ö –∏–ª–∏ –æ—à–∏–±–∫–∞)');
                });
        });

        document.getElementById('errorBtn').addEventListener('click', function() {
            addLog('--- –ó–ê–ü–£–°–ö PROMISE –° –û–®–ò–ë–ö–û–ô ---');
            
            createErrorPromise()
                .then(result => {
                    addLog(`‚úÖ then: ${result}`, 'success');
                })
                .catch(error => {
                    addLog(`‚ùå catch: ${error.message}`, 'error');
                })
                .finally(() => {
                    addLog('üèÅ finally: –û–ø–µ—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ (—É—Å–ø–µ—Ö –∏–ª–∏ –æ—à–∏–±–∫–∞)');
                });
        });

        document.getElementById('sequenceBtn').addEventListener('click', function() {
            addLog('--- –ó–ê–ü–£–°–ö –¶–ï–ü–û–ß–ö–ò PROMISE ---');
            
            new Promise((resolve) => {
                setTimeout(() => {
                    addLog('üîπ –®–∞–≥ 1: –ü–æ–ª—É—á–∞–µ–º userId...');
                    resolve(123);
                }, 1000);
            })
            .then(userId => {
                addLog(`üîπ –®–∞–≥ 2: –ü–æ–ª—É—á–∏–ª–∏ userId = ${userId}, –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...`);
                return new Promise(resolve => {
                    setTimeout(() => {
                        resolve({ userId, name: '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤', email: 'ivan@example.com' });
                    }, 1000);
                });
            })
            .then(userData => {
                addLog(`üîπ –®–∞–≥ 3: –ü–æ–ª—É—á–∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ${userData.name}`);
                addLog('üîπ –®–∞–≥ 4: –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –∑–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è...');
                return new Promise(resolve => {
                    setTimeout(() => {
                        resolve({
                            ...userData,
                            orders: ['–ó–∞–∫–∞–∑ #1', '–ó–∞–∫–∞–∑ #2', '–ó–∞–∫–∞–∑ #3']
                        });
                    }, 1000);
                });
            })
            .then(finalData => {
                addLog('‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:', 'success');
                addLog(`   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${finalData.name}`);
                addLog(`   Email: ${finalData.email}`);
                addLog(`   –ó–∞–∫–∞–∑—ã: ${finalData.orders.join(', ')}`);
            })
            .catch(error => {
                addLog(`‚ùå –û—à–∏–±–∫–∞ –≤ —Ü–µ–ø–æ—á–∫–µ: ${error.message}`, 'error');
            });
        });
    </script>
</body>
</html>
